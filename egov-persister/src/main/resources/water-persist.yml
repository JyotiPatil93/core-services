serviceMaps:
 serviceName: Water Connection Service
 mappings:
 - version: 1.0
   name: WaterConnection
   description: create ConnectionDetails in connection
   fromTopic: createWaterConnection
   isTransaction: true
   queryMaps: 
    - query: INSERT INTO connection (id, property_id, applicationNo, applicationStatus, status, connectionNo, oldConnectionNo, documents_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?);
      basePath: $.WaterConnection
      jsonMaps:
       - jsonPath: $.WaterConnection.id 
        
       - jsonPath: $.WaterConnection.property.id

       - jsonPath: $.WaterConnection.applicationNo
        
       - jsonPath: $.WaterConnection.applicationStatus

       - jsonPath: $.WaterConnection.status

       - jsonPath: $.WaterConnection.connectionNo

       - jsonPath: $.WaterConnection.oldConnectionNo

       - jsonPath: $.WaterConnection.documents.*.id      






 
 - version: 1.0
   description: create WaterConnectionDetails in water_service_connection
   fromTopic: createWaterConnection
   isTransaction: true
   queryMaps:
    - query: INSERT INTO water_service_connection(connection_id,connectionCategory,rainWaterHarvesting,connectionType,waterSource,meterId,meterInstallationDate) VALUES(?,?,?,?,?,?,?);
      basePath: $.WaterConnection
      jsonMaps:

       - jsonPath: $.WaterConnection.id
       - jsonPath: $.WaterConnection.connectionCategory
         

       - jsonPath: $.WaterConnection.rainWaterHarvesting
         type: BOOLEAN 
         dbType: BOOLEAN
         
       - jsonPath: $.WaterConnection.connectionType
         
       - jsonPath: $.WaterConnection.waterSource
         
       - jsonPath: $.WaterConnection.meterId
         
       - jsonPath: $.WaterConnection.meterInstallationDate

